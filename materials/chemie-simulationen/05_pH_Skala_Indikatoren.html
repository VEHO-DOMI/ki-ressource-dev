<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pH-Wert und Indikatoren</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
        }
        .container {
            padding: 12px;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .header {
            flex-shrink: 0;
            text-align: center;
            margin-bottom: 12px;
        }
        h1 {
            font-size: 1.4em;
            margin-bottom: 4px;
            color: #4fc3f7;
        }
        .subtitle {
            color: #90a4ae;
            font-size: 0.85em;
        }
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 12px;
            flex: 1;
            overflow: hidden;
        }
        .canvas-section {
            display: flex;
            flex-direction: column;
            gap: 8px;
            overflow-y: auto;
            padding-right: 8px;
        }
        .ph-scale-container {
            flex-shrink: 0;
            padding: 8px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        .ph-scale {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        .ph-segment {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.7em;
            cursor: pointer;
            transition: all 0.2s;
            border-right: 1px solid rgba(255,255,255,0.1);
        }
        .ph-segment:hover { transform: scaleY(1.05); }
        .ph-segment.selected {
            transform: scaleY(1.1);
            box-shadow: inset 0 0 10px rgba(255,255,255,0.3);
            z-index: 10;
        }
        .ph-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            font-size: 0.7em;
            color: #90a4ae;
        }
        .ph-slider-container {
            flex-shrink: 0;
            padding: 8px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            text-align: center;
        }
        .ph-slider {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            background: linear-gradient(to right,
                #ff0000 0%, #ff4400 7%, #ff8800 14%, #ffcc00 21%,
                #ccff00 28%, #88ff00 35%, #00ff00 42%, #00ff88 50%,
                #00ffcc 57%, #00ccff 64%, #0088ff 71%, #0044ff 78%,
                #0000ff 85%, #4400ff 92%, #8800ff 100%);
            border-radius: 8px;
            outline: none;
            cursor: pointer;
        }
        .ph-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
        }
        .ph-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
            border: none;
        }
        .current-ph {
            font-size: 1.8em;
            font-weight: bold;
            margin: 6px 0 4px 0;
        }
        .ph-type {
            font-size: 0.9em;
            margin-bottom: 0;
        }
        .beaker-section {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            flex-shrink: 0;
            padding: 8px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        .beaker {
            text-align: center;
            padding: 8px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
        }
        .beaker h4 {
            color: #4fc3f7;
            margin-bottom: 6px;
            font-size: 0.75em;
        }
        .beaker-glass {
            width: 50px;
            height: 60px;
            margin: 0 auto;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: none;
            border-radius: 0 0 10px 10px;
            position: relative;
            overflow: hidden;
        }
        .beaker-liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70%;
            transition: background-color 0.5s;
        }
        .indicator-name {
            margin-top: 4px;
            font-size: 0.65em;
            color: #90a4ae;
        }
        .examples-title {
            font-size: 0.8em;
            color: #4fc3f7;
            margin-top: 8px;
            margin-bottom: 6px;
            font-weight: bold;
        }
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
            flex-shrink: 0;
            padding: 8px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            max-height: 120px;
            overflow-y: auto;
        }
        .example-item {
            text-align: center;
            padding: 6px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.7em;
        }
        .example-item:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.1);
        }
        .example-item .emoji { font-size: 1.2em; display: block; }
        .example-item .name { margin-top: 2px; }
        .example-item .ph-value { color: #4fc3f7; font-weight: bold; }
        .info-box {
            background: rgba(79, 195, 247, 0.1);
            border-left: 3px solid #4fc3f7;
            padding: 8px 10px;
            border-radius: 6px;
            font-size: 0.75em;
            line-height: 1.3;
            flex-shrink: 0;
            max-height: 100px;
            overflow-y: auto;
        }
        .info-box h3 { color: #4fc3f7; margin-bottom: 4px; font-size: 0.9em; }
        .info-box p { color: #b0bec5; margin-bottom: 4px; }
        .formula {
            background: rgba(0,0,0,0.3);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.75em;
            text-align: center;
            margin: 4px 0;
        }
        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 8px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(255,255,255,0.02);
            border-radius: 8px;
        }
        @media (max-width: 900px) {
            .main-layout { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ pH-Wert & Indikatoren</h1>
            <p class="subtitle">4. Klasse ‚Äì Sauer bis basisch</p>
        </div>

        <div class="main-layout">
            <div class="canvas-section">
                <div class="ph-scale-container">
                    <div class="ph-scale" id="phScale"></div>
                    <div class="ph-labels">
                        <span>‚Üê SAUER</span>
                        <span>NEUTRAL</span>
                        <span>BASISCH ‚Üí</span>
                    </div>
                </div>

                <div class="ph-slider-container">
                    <input type="range" class="ph-slider" id="phSlider" min="0" max="14" step="0.1" value="7">
                    <div class="current-ph" id="currentPH">pH 7.0</div>
                    <div class="ph-type" id="phType">‚ö™ Neutral</div>
                </div>

                <div class="beaker-section">
                    <div class="beaker">
                        <h4>Lackmus</h4>
                        <div class="beaker-glass">
                            <div class="beaker-liquid" id="lackmus"></div>
                        </div>
                        <div class="indicator-name">rot ‚Üí blau</div>
                    </div>
                    <div class="beaker">
                        <h4>Phenolphthalein</h4>
                        <div class="beaker-glass">
                            <div class="beaker-liquid" id="phenolphthalein"></div>
                        </div>
                        <div class="indicator-name">farblos ‚Üí pink</div>
                    </div>
                    <div class="beaker">
                        <h4>Bromthymolblau</h4>
                        <div class="beaker-glass">
                            <div class="beaker-liquid" id="bromthymol"></div>
                        </div>
                        <div class="indicator-name">gelb ‚Üí blau</div>
                    </div>
                </div>

                <div class="examples-title">üî¨ Beispiele (klicken)</div>
                <div class="examples-grid" id="examples"></div>

                <div class="info-box">
                    <h3>üìö pH-Wert</h3>
                    <div class="formula">pH = -log‚ÇÅ‚ÇÄ[H‚Å∫]</div>
                    <p><strong>pH &lt; 7:</strong> sauer | <strong>pH = 7:</strong> neutral | <strong>pH &gt; 7:</strong> basisch</p>
                </div>
            </div>

            <div class="controls-panel">
                <!-- Controls will be added via JavaScript if needed -->
            </div>
        </div>
    </div>

    <script>
        const phColors = [
            '#ff0000', '#ff2200', '#ff4400', '#ff6600', '#ff8800',
            '#ffaa00', '#ffcc00', '#ccff00', '#00ff00', '#00cc44',
            '#00aa88', '#0088aa', '#0066cc', '#0044ee', '#0000ff'
        ];

        const examples = [
            { name: 'Magens√§ure', ph: 1.5, emoji: 'ü´É' },
            { name: 'Zitrone', ph: 2.3, emoji: 'üçã' },
            { name: 'Cola', ph: 2.5, emoji: 'ü•§' },
            { name: 'Essig', ph: 3.0, emoji: 'ü´í' },
            { name: 'Kaffee', ph: 5.0, emoji: '‚òï' },
            { name: 'Milch', ph: 6.6, emoji: 'ü•õ' },
            { name: 'Wasser', ph: 7.0, emoji: 'üíß' },
            { name: 'Blut', ph: 7.4, emoji: 'ü©∏' },
            { name: 'Meerwasser', ph: 8.1, emoji: 'üåä' },
            { name: 'Backpulver', ph: 8.5, emoji: 'üßÅ' },
            { name: 'Seife', ph: 10.0, emoji: 'üßº' },
            { name: 'Ammoniak', ph: 11.5, emoji: 'üß™' },
            { name: 'Bleiche', ph: 12.5, emoji: 'ü´ß' },
            { name: 'Natronlauge', ph: 14.0, emoji: '‚öóÔ∏è' }
        ];

        function buildPHScale() {
            const scale = document.getElementById('phScale');
            for (let i = 0; i <= 14; i++) {
                const segment = document.createElement('div');
                segment.className = 'ph-segment';
                segment.style.backgroundColor = phColors[i];
                segment.textContent = i;
                segment.style.color = i < 5 || i > 10 ? 'white' : 'black';
                segment.onclick = () => setPH(i);
                segment.id = `ph-${i}`;
                scale.appendChild(segment);
            }
        }

        function buildExamples() {
            const container = document.getElementById('examples');
            examples.forEach(ex => {
                const div = document.createElement('div');
                div.className = 'example-item';
                div.innerHTML = `
                    <div class="emoji">${ex.emoji}</div>
                    <div class="name">${ex.name}</div>
                    <div class="ph-value">pH ${ex.ph}</div>
                `;
                div.onclick = () => setPH(ex.ph);
                container.appendChild(div);
            });
        }

        function getInterpolatedColor(ph) {
            const index = Math.floor(ph);
            const fraction = ph - index;

            if (index >= 14) return phColors[14];
            if (index < 0) return phColors[0];

            const c1 = phColors[index];
            const c2 = phColors[index + 1];

            const r1 = parseInt(c1.slice(1, 3), 16);
            const g1 = parseInt(c1.slice(3, 5), 16);
            const b1 = parseInt(c1.slice(5, 7), 16);

            const r2 = parseInt(c2.slice(1, 3), 16);
            const g2 = parseInt(c2.slice(3, 5), 16);
            const b2 = parseInt(c2.slice(5, 7), 16);

            const r = Math.round(r1 + (r2 - r1) * fraction);
            const g = Math.round(g1 + (g2 - g1) * fraction);
            const b = Math.round(b1 + (b2 - b1) * fraction);

            return `rgb(${r}, ${g}, ${b})`;
        }

        function getLackmusColor(ph) {
            if (ph < 5) return '#e74c3c';
            if (ph > 8) return '#3498db';
            const t = (ph - 5) / 3;
            return `rgb(${Math.round(231 - t * 179)}, ${Math.round(76 + t * 76)}, ${Math.round(60 + t * 159)})`;
        }

        function getPhenolphthaleinColor(ph) {
            if (ph < 8.2) return 'rgba(255, 255, 255, 0.3)';
            if (ph > 10) return '#e91e63';
            const t = (ph - 8.2) / 1.8;
            return `rgba(233, 30, 99, ${t})`;
        }

        function getBromthymolColor(ph) {
            if (ph < 6) return '#f1c40f';
            if (ph > 7.6) return '#3498db';
            const t = (ph - 6) / 1.6;
            return `rgb(${Math.round(241 - t * 189)}, ${Math.round(196 - t * 44)}, ${Math.round(15 + t * 204)})`;
        }

        function setPH(ph) {
            document.getElementById('phSlider').value = ph;
            updateDisplay(ph);
        }

        function updateDisplay(ph) {
            const color = getInterpolatedColor(ph);

            document.getElementById('currentPH').textContent = `pH ${ph.toFixed(1)}`;
            document.getElementById('currentPH').style.color = color;

            let type, emoji;
            if (ph < 3) { type = 'Stark sauer'; emoji = 'üî¥'; }
            else if (ph < 6) { type = 'Schwach sauer'; emoji = 'üü†'; }
            else if (ph < 8) { type = 'Neutral'; emoji = '‚ö™'; }
            else if (ph < 11) { type = 'Schwach basisch'; emoji = 'üîµ'; }
            else { type = 'Stark basisch'; emoji = 'üü£'; }

            document.getElementById('phType').textContent = `${emoji} ${type}`;

            // Update indicators
            document.getElementById('lackmus').style.backgroundColor = getLackmusColor(ph);
            document.getElementById('phenolphthalein').style.backgroundColor = getPhenolphthaleinColor(ph);
            document.getElementById('bromthymol').style.backgroundColor = getBromthymolColor(ph);

            // Update scale selection
            document.querySelectorAll('.ph-segment').forEach((seg, i) => {
                seg.classList.toggle('selected', Math.round(ph) === i);
            });
        }

        document.getElementById('phSlider').addEventListener('input', (e) => {
            updateDisplay(parseFloat(e.target.value));
        });

        buildPHScale();
        buildExamples();
        updateDisplay(7);
    </script>
</body>
</html>
